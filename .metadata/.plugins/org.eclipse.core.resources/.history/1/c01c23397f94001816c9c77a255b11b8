<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.runsystem.datnt.database.mapper.IStudentInfoMapper">

	<insert id="insert" parameterType="StudentInfo">
		INSERT INTO studentinfo (studentid, address, averagescore, dateofbirth) 
		VALUE (#{studentID}, #{address}, #{avgScore}, #{dateofbirth});
	</insert>
	
	<update id="update" parameterType="StudentInfo">
		UPDATE studentfo
		SET 
		<if test="address != null" >
			address = #{address},
		</if>
		<if test="studentCode != null">
			studentcode = #{studentCode}
		</if>
		<if test="studentCode != null">
			studentcode = #{studentCode}
		</if>
		WHERE studentid = #{studentID};
	</update>
	
	<delete id="delete" parameterType="StudentInfo">
		DELETE FROM student 
		WHERE studentid = #{studentID};
	</delete>
	
	<select id="selectOne" parameterType="StudentInfo" resultType="studentInfo">
		SELECT * 
		FROM studentinfo
		WHERE studentid = #{studentID};
	</select>
	
	<select id="selectAll" resultType="studentInfo">
		SELECT * 
		FROM student;
	</select>
	
	<resultMap type="StudentInfo" id="studentInfo">
		<result property="studentId"   column="studentid"/>
		<result property="address"     column="address"/>
		<result property="avgScore"    column="averagescore"/>
		<result property="dateOfBirth" column="dateofbirth"/>
	</resultMap>
	
</mapper>
/**
 * SearchStudent class
 * 
 * Chứa các phương thức tìm kiếm sinh viên 
 */

package com.runsystem.datnt.business;

import java.util.ArrayList;
import java.util.List;

import com.runsystem.datnt.database.service.StudentInfoService;
import com.runsystem.datnt.dto.Pagenation;
import com.runsystem.datnt.dto.PagenationResult;
import com.runsystem.datnt.dto.Student;
import com.runsystem.datnt.dto.StudentInfo;

public class SearchStudent {


	/*
	 * Search kết quả dựa vào số page, định vị trí cho page bắt đầu, page kết thúc, set kết quả tìm kiếm
	 * vào đối tượng PagenationResult.
	 * 
	 * @param pageSearch 
	 * @param searchResult
	 * @param page 
	 * 
	 * @return PagenationResult
	 */
	public PagenationResult search(int page, Student student, StudentInfoService infoService) {
		Pagenation pagenation = new Pagenation();
		List<StudentInfo> students = new ArrayList<StudentInfo>();
		
		//Số lượng row
		int numRow = infoService.count(student);
	
		//Số page 
		int numPage = numRow % 5 == 0 ? numRow/5 : numRow/5 + 1;
		
		//Tính toán giá tri cho startPage và endPage
		int startPage = 0;
		int endPage   = 0;
		
		if (page < 5) {
			startPage = 1;
			endPage   = numPage < 5 ? numPage : 5; 
		} else {
			endPage   = page + 2 < numPage ? page + 2 : numPage;
			startPage = endPage - 6;
		}
		return null;
	}

}
